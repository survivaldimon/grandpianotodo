# –°–µ—Å—Å–∏—è 25.12.2025 ‚Äî –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Realtime –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –ø–æ–¥–ø–∏—Å–æ–∫

## –ü—Ä–æ–±–ª–µ–º–∞

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–æ–±—â–∏–ª, —á—Ç–æ –ø–æ—Å–ª–µ –ø—Ä–æ–¥–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–æ–∫ –≤ –ø—Ä–æ—Ñ–∏–ª–µ —É—á–µ–Ω–∏–∫–∞ (`student_detail_screen.dart`), –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∑–∞–Ω—è—Ç–∏–π –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è:
- –ù–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ (Realtime –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
- –ù–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –¥–∞–∂–µ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —ç–∫—Ä–∞–Ω–∞ (pull-to-refresh)

## –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞

1. **–ò–∑—É—á–µ–Ω `subscription_provider.dart`:**
   - –ü—Ä–æ–≤–∞–π–¥–µ—Ä `subscriptionsStreamProvider` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Realtime stream —á–µ—Ä–µ–∑ `repo.watchByStudent()`
   - –ú–µ—Ç–æ–¥ `_invalidateForStudent()` –∏–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç FutureProvider'—ã, –Ω–æ **–ù–ï –∏–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç StreamProvider**

2. **–ü—Ä–æ–≤–µ—Ä–µ–Ω `subscription_repository.dart`:**
   - –ú–µ—Ç–æ–¥ `watchByStudent()` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `.stream(primaryKey: ['id'])`
   - Stream –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ

3. **–ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ `subscriptions` –≤ DATABASE.md:**
   - ‚ùå –¢–∞–±–ª–∏—Ü–∞ **–ù–ï –±—ã–ª–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞** –≤ —Å–µ–∫—Ü–∏—é Realtime
   - –î—Ä—É–≥–∏–µ —Ç–∞–±–ª–∏—Ü—ã (lessons, students, rooms, payments) –±—ã–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã

### –ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞

**–î–≤–æ–π–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
1. **Realtime –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω** ‚Äî —Ç–∞–±–ª–∏—Ü–∞ `subscriptions` –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –ø—É–±–ª–∏–∫–∞—Ü–∏—é `supabase_realtime`
2. **StreamProvider –Ω–µ –∏–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è** ‚Äî –º–µ—Ç–æ–¥ `_invalidateForStudent()` –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç `subscriptionsStreamProvider`

## –†–µ—à–µ–Ω–∏–µ

### 1. –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è StreamProvider

**–§–∞–π–ª:** `lib/features/subscriptions/providers/subscription_provider.dart`

```dart
void _invalidateForStudent(String studentId) {
  _ref.invalidate(studentSubscriptionsProvider(studentId));
  _ref.invalidate(activeSubscriptionsProvider(studentId));
  _ref.invalidate(studentActiveBalanceProvider(studentId));
  _ref.invalidate(isStudentFrozenProvider(studentId));
  // –¢–∞–∫–∂–µ –∏–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ–º StreamProvider –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
  _ref.invalidate(subscriptionsStreamProvider(studentId));  // ‚Üê –î–û–ë–ê–í–õ–ï–ù–û
}
```

**–ó–∞—á–µ–º:** –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI –¥–∞–∂–µ –µ—Å–ª–∏ Realtime –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.

### 2. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã invalidate –≤—ã–∑–æ–≤—ã –≤ UI

**–§–∞–π–ª:** `lib/features/students/screens/student_detail_screen.dart`

–î–æ–±–∞–≤–ª–µ–Ω–æ –æ–±—Ä–∞—Ç–Ω–æ –≤ –¥–≤–∞ –º–µ—Å—Ç–∞:

1. **–í RefreshIndicator:**
```dart
onRefresh: () async {
  ref.invalidate(studentProvider(studentId));
  ref.invalidate(studentPaymentsProvider(studentId));
  ref.invalidate(subscriptionsStreamProvider(studentId));  // ‚Üê –î–û–ë–ê–í–õ–ï–ù–û –û–ë–†–ê–¢–ù–û
},
```

2. **–í –∫–æ–ª–±—ç–∫–µ —Å–æ–∑–¥–∞–Ω–∏—è –æ–ø–ª–∞—Ç—ã:**
```dart
onCreated: () {
  ref.invalidate(studentProvider(studentId));
  ref.invalidate(studentPaymentsProvider(studentId));
  ref.invalidate(subscriptionsStreamProvider(studentId));  // ‚Üê –î–û–ë–ê–í–õ–ï–ù–û –û–ë–†–ê–¢–ù–û
},
```

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–§–∞–π–ª:** `DATABASE.md`

```sql
-- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ subscriptions
ALTER PUBLICATION supabase_realtime ADD TABLE subscriptions;
```

## –¢—Ä–µ–±—É–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤ Supabase

‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:**

–î–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã Realtime –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å SQL –∫–æ–º–∞–Ω–¥—É –≤ Supabase SQL Editor:

```sql
ALTER PUBLICATION supabase_realtime ADD TABLE subscriptions;
```

**–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:**
1. –û—Ç–∫—Ä—ã—Ç—å [Supabase Dashboard](https://supabase.com/dashboard)
2. –ü–µ—Ä–µ–π—Ç–∏ –≤ SQL Editor
3. –í—Å—Ç–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –≤—ã—à–µ
4. –ù–∞–∂–∞—Ç—å Run
5. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

## –ü–∞—Ç—Ç–µ—Ä–Ω "–ì–∏–±—Ä–∏–¥–Ω—ã–π Realtime"

–ë—ã–ª –ø—Ä–∏–º–µ–Ω–µ–Ω **–≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥** –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π:

| –ú–µ—Ç–æ–¥ | –ö–æ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç | –ó–∞—á–µ–º –Ω—É–∂–µ–Ω |
|-------|---------------|-------------|
| **Realtime Stream** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –≤ –ë–î | –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ |
| **–†—É—á–Ω–∞—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è** | –ü–æ—Å–ª–µ –æ–ø–µ—Ä–∞—Ü–∏–π —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä | –ì–∞—Ä–∞–Ω—Ç–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç Realtime |

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

‚úÖ UI –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è **–≤—Å–µ–≥–¥–∞** ‚Äî –¥–∞–∂–µ –µ—Å–ª–∏ Realtime –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è **–º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏** ‚Äî –∫–æ–≥–¥–∞ Realtime —Ä–∞–±–æ—Ç–∞–µ—Ç
‚úÖ –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ **pull-to-refresh** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å
‚úÖ –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ **–æ–ø–µ—Ä–∞—Ü–∏–π** ‚Äî create, extend, freeze, unfreeze –∏ —Ç.–¥.

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ–¥–ª–µ–≤–∞–µ—Ç –ø–æ–¥–ø–∏—Å–∫—É
    ‚Üì
SubscriptionController.extend()
    ‚Üì
_repo.extend() ‚Üí –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤ –ë–î
    ‚Üì
_invalidateForStudent() ‚Üí –∏–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
    ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ subscriptionsStream      ‚îÇ  Realtime Stream       ‚îÇ
‚îÇ Provider re-fetches      ‚îÇ  –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ      ‚îÇ
‚îÇ (–≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ)         ‚îÇ  (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚Üì
UI –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è ‚úì
```

## –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `lib/features/subscriptions/providers/subscription_provider.dart` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è StreamProvider
- `lib/features/students/screens/student_detail_screen.dart` ‚Äî –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã invalidate –≤—ã–∑–æ–≤—ã
- `DATABASE.md` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ subscriptions –≤ —Å–µ–∫—Ü–∏—é Realtime

## –ö–æ–º–º–∏—Ç

```
fix: force refresh subscriptions stream after operations

Added invalidate call for subscriptionsStreamProvider in subscription controller
to ensure UI updates in real-time when subscriptions are extended, frozen, or modified.

Changes:
- Added invalidate for subscriptionsStreamProvider in _invalidateForStudent()
- Re-added invalidate calls in student_detail_screen.dart callbacks
- Updated DATABASE.md with subscriptions table in Realtime section

Note: Requires subscriptions table to be added to Realtime publication:
ALTER PUBLICATION supabase_realtime ADD TABLE subscriptions;
```

**Commit hash:** `618964c`

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü—Ä–æ–¥–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏
1. –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ—Ñ–∏–ª—å —É—á–µ–Ω–∏–∫–∞
2. –ù–∞–∂–∞—Ç—å –Ω–∞ –ø–æ–¥–ø–∏—Å–∫—É
3. –ü—Ä–æ–¥–ª–∏—Ç—å –Ω–∞ N –¥–Ω–µ–π
4. ‚úÖ –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: Pull-to-refresh
1. –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ—Ñ–∏–ª—å —É—á–µ–Ω–∏–∫–∞
2. –ü–æ—Ç—è–Ω—É—Ç—å —ç–∫—Ä–∞–Ω –≤–Ω–∏–∑
3. ‚úÖ –í—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–¥–ø–∏—Å–æ–∫ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –°–æ–∑–¥–∞–Ω–∏–µ –æ–ø–ª–∞—Ç—ã
1. –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ—Ñ–∏–ª—å —É—á–µ–Ω–∏–∫–∞
2. –î–æ–±–∞–≤–∏—Ç—å –æ–ø–ª–∞—Ç—É
3. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø–æ–¥–ø–∏—Å–∫–∞ –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: –ú—É–ª—å—Ç–∏—é–∑–µ—Ä (—Ç—Ä–µ–±—É–µ—Ç Realtime)
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å A –æ—Ç–∫—Ä—ã–ª –ø—Ä–æ—Ñ–∏–ª—å —É—á–µ–Ω–∏–∫–∞
2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å B –ø—Ä–æ–¥–ª–∏–ª –ø–æ–¥–ø–∏—Å–∫—É —ç—Ç–æ–º—É —É—á–µ–Ω–∏–∫—É
3. ‚úÖ –£ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è A –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è (–µ—Å–ª–∏ Realtime –Ω–∞—Å—Ç—Ä–æ–µ–Ω)

## –ü–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è –±—É–¥—É—â–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –í—Å–µ–≥–¥–∞ –∏–Ω–≤–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ StreamProvider

```dart
void _invalidateForEntity(String entityId) {
  // –ò–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ–º –í–°–ï –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã, –≤–∫–ª—é—á–∞—è Stream
  _ref.invalidate(entityStreamProvider(entityId));
  _ref.invalidate(entityDataProvider(entityId));
  _ref.invalidate(relatedDataProvider(entityId));
}
```

### 2. –î–æ–±–∞–≤–ª—è–π—Ç–µ —Ç–∞–±–ª–∏—Ü—ã –≤ Realtime –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã —Å Realtime:
1. –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é —Ç–∞–±–ª–∏—Ü—ã
2. –°—Ä–∞–∑—É –¥–æ–±–∞–≤–∏—Ç—å –≤ –ø—É–±–ª–∏–∫–∞—Ü–∏—é: `ALTER PUBLICATION supabase_realtime ADD TABLE table_name;`
3. –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ DATABASE.md

### 3. –ö–æ–º–±–∏–Ω–∏—Ä—É–π—Ç–µ Stream + Invalidate

```dart
// –í –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ
Future<Entity?> updateEntity(String id) async {
  final entity = await _repo.update(id);
  _invalidateForEntity(id);  // ‚Üê –í—Å–µ–≥–¥–∞ –∏–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ–º
  return entity;
}
```

## –í—ã–≤–æ–¥—ã

1. **StreamProvider –Ω—É–∂–Ω–æ –∏–Ω–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å** ‚Äî –æ–Ω –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ –∫–æ–º–∞–Ω–¥–µ
2. **Realtime —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–î** ‚Äî –Ω–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å `.stream()` –≤ –∫–æ–¥–µ
3. **–ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –Ω–∞–¥–µ–∂–Ω–µ–µ** ‚Äî –∫–æ–º–±–∏–Ω–∞—Ü–∏—è Realtime + manual invalidation
4. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ Realtime** ‚Äî –¥–æ–±–∞–≤–ª—è–π—Ç–µ —Ç–∞–±–ª–∏—Ü—ã –≤ DATABASE.md —Å—Ä–∞–∑—É

## –°—Ç–∞—Ç—É—Å

‚úÖ **–†–ï–®–ï–ù–û** ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
‚ö†Ô∏è **–¢–†–ï–ë–£–ï–¢–°–Ø** ‚Äî –≤—ã–ø–æ–ª–Ω–∏—Ç—å SQL –∫–æ–º–∞–Ω–¥—É –≤ Supabase –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è Realtime
üîÑ **–ù–ï –ó–ê–ü–£–®–ï–ù–û** ‚Äî –æ–∂–∏–¥–∞–µ–º –∫–æ–º–∞–Ω–¥—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è `git push`
